load("D:/R/ZNO_big/zno_data.frames.RData")
load("D:/R/ZNO_big/zno_data.frames.RData")
View(total_total)
View(doc)
grepl('Національний підрозділ', doc$X2)
grepl('Відокремленний підрозділ національного університету біоресурсів', doc$X2)
regexpr('Відокремленний підрозділ національного університету біоресурсів', doc$X2)
regexpr('Відокремленний підрозділ національного університету біоресурсів', doc$X2, match.length)
total_toal <- total_toal[c(1,3,2,7,4,5,6,8,9)]
total_total <- total_total[c(1,3,2,7,4,5,6,8,9)]
total_total <- total_total[c(1,3,5,2,4,5,6,8,9)]
load("D:/R/ZNO_big/zno_data.frames.RData")
View(mol.sp)
View(mol.sp)
View(mol.sp)
table(mol.sp@kurs)
library(DT)
library(readr)
library(stringr)
library(dplyr)
table(mol.sp$kurs)
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_gradient2(low = "blue", mid= "white", high = "orange") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
getwd()
setwd("D:/pages/beneficiaries/data")
library(readr)
library(stringr)
library(dplyr)
library(ggplot2)
library(wesanderson)
library(RColorBrewer)
file <- "heatmap_data.csv"
doc <- read.table(file, sep = ",", header = TRUE, encoding = "UTF-8")
doc$colors <- cut(doc$presentation,breaks = c(min(doc$presentation), -10, -5, -3, 0, 3, 5, 10, 15,40),right = FALSE)
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_gradient2(low = "blue", mid= "white", high = "orange") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_gradient2(low = muted("blue"), mid= "white",
high = muted("orange")) +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_gradient2(low = "blue", mid= "white",
high = "orange") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
View(doc)
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = presentation), colour = "white") +
scale_fill_gradient2(low = "blue", mid= "white",
high = "orange") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = color), colour = "white") +
scale_fill_gradient2(low = "blue", mid= "white",
high = "orange") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_gradient2(low = "blue", mid= "white",
high = "orange") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_brewer(palette = "PRGn") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_brewer(palette = "YlOrBr") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_brewer(palette = "BuGn") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_brewer(palette = "PRGn") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_brewer(palette = "BrBG") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_brewer(palette = "PiYG") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_brewer(palette = "PRGn") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_brewer(palette = "RdBu") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_brewer(palette = "RdGy") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_brewer(palette = "RdYlBu") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_brewer(palette = "Spectral") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
gplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_brewer(palette = "BrBG") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_brewer(palette = "BrBG") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggsave("heatmap.svg", plot = p,
path = "D:/pages/beneficiaries/img",
dpi = 300, limitsize = FALSE)
p <- ggplot(doc, aes(x = party, y = bussinessman )) +
geom_tile(aes(fill = colors), colour = "white") +
scale_fill_brewer(palette = "BrBG") +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position="bottom",
legend.key.height = unit(0.4, "cm"),
legend.key.width = unit(1, "cm"),
axis.text.x =
element_text(angle=45,
hjust = 1,vjust=1,size = 8))
ggsave("heatmap.svg", plot = p,
path = "D:/pages/beneficiaries/img",
dpi = 300, limitsize = FALSE)
library(ggplot2)
library(ggthemes)
library(RColorBrewer)
getwd()
setwd("D:/pages/beneficiaries/data")
top10 <- read.table("top10_businessman.csv", sep = ",", header = TRUE, encoding = "UTF-8")
names(top10)[names(top10)=="X.U.FEFF.fullname.y"] <- "fullname.y"
colors_sequence <- seq_along(top10$fullname.y)
p <- ggplot(top10, aes(x= reorder(fullname.y, number_of_councilmen), y = number_of_councilmen, fill = factor(number_of_councilmen))) +
geom_bar(stat  = "identity") +
theme(plot.title = element_text(size = 14),
plot.subtitle = element_text(size = 10)) +
theme(panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.x = element_blank()) +
coord_flip() +
theme_minimal() +
labs(title = "Лише бізнес, чи й політика?", subtitle = "\nБізнесмени, з чиїми компаніями пов'язано найбільше місцевих депутатів",
caption = "\nДжерело: дані про бенефіціарів з реєстру юридичних осіб, електронні декларації") +
xlab("") +
ylab("")
p <- p + scale_fill_brewer(palette="Oranges")
p <- p + scale_fill_brewer(palette="Oranges")
ggplot(top10, aes(x= reorder(fullname.y, number_of_councilmen), y = number_of_councilmen, fill = factor(number_of_councilmen))) +
geom_bar(stat  = "identity") +
theme(plot.title = element_text(size = 14),
plot.subtitle = element_text(size = 10)) +
theme(panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.x = element_blank()) +
coord_flip() +
theme_minimal() +
labs(title = "Лише бізнес, чи й політика?", subtitle = "\nБізнесмени, з чиїми компаніями пов'язано найбільше місцевих депутатів",
caption = "\nДжерело: дані про бенефіціарів з реєстру юридичних осіб, електронні декларації") +
xlab("") +
ylab("")
p <- p + scale_fill_brewer(palette="BrBG")
p + scale_fill_brewer(palette="BrBG")
